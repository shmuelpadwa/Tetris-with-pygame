#Edit, a year later: HOW MUCH CRACK WAS I ON WHEN I MADE THIS
#ALSO WHY DIDN'T I LEAVE ANY COMMENTS
#AND WHY ARE ALL THE VARIABLE AND FUNCTIONS TWO LETTERS LONG
#YOU ARE HORRIBLE, ME FROM 9TH GRADE

'''Dear Mr. Robinson,

	I have been greatly enjoying your class this year, and believe you have done an excellent job thus far. I have greatly admired your ability to strongly teach our class and engage us through hearty topics such as interrogative pronouns. Although I wasn’t initially performing academically on par with what I had hoped, I am pleased to say that my academic achievement within your class has greatly improved throughout the first semester. 

	As I have mentioned to you on multiple occasions throughout this joyous week, my grade in your class currently stands at a proud yet unoptimal 94.49. Due to the DOE grading policy, that would down a full half a point to a measly 94 on my official transcript, which you are surely aware is far from an optimal ending to this wonderful journey on which we have sailed. On the other hand, with even a small bump up to an average of a clean 94.5, I would be able to walk as a God among men(or should I say, a Iuppiter among men), hailing in the cheers of the crowd as I stand upon a golden throne of heroism for my accomplishments in your Latin class.  I know that you were once in my shoes, a starry-eyed student filled with wonder at the journey at which life might take. And as a student, I’m sure you had a teacher who would grade you unfairly and diminish your accomplishments, and I know that you, as a brave, heroic, respected adult, would never want to inflict the same cruel fate on your own beloved student. 

	So I ask you, Mr. Daniel Robinson, a hero among the masses for the wisdom of your teaching, the greatness in every exaltation of your glorious name, to give me but this single request, lest my semester learning in your Latin class end in a sense of sorrow, of regret, of sadness for what could have been. All I need is one tiny, miniscule, almost unnoticeable 0.01, maybe as an extra tenth of a point on a test, as much like a tiny hummingbird flapping its wings can move a mountain with great ease, this tiny increase in grade will lift my spirits from those of sorrow to the annals of ecstasy. I will emerge from my cocoon a strong, beautiful butterfly, able to dominate the second semester of your Latin class with the strongest abilities and powers befitting only the most scholarly Latin students. 

	And now I must make my final plea. Will you be like Narcissus, ignoring echo’s wish for the happiest future, leaving her sad and desolate? Or will you be like Baucis and Philemon, heroes who helped the needy when they needed it most? I’ll just remind you of one fact : Narcissus’ exploits cost him his life, while Baucis and Philemon were rewarded for eternity from the Gods they helped. You are a very smart man, Mr. Robinson, and I trust that you will make the correct decision to aid me in my plight to be a true scholar of the Latin language.

Yours Truly,
	Shmuel Padwa

PS. Now is your moment to stand up and make this happen. Carpe Diem!
'''

import random as n
import pygame
from pygame import *
def k(w,h):return m(lambda x:[0]*h,' '*w)
def cg(g):return m(lambda x:x[:],g)
def ro(o,c,r):return o if r<1 else ro(m(lambda x:m(lambda y:o[y][3-x-1+c],b(4)),b(4)),c,r-1)
def mo(o):
 p=n.choice(m(lambda x:[x%3+1,x in(0,3),m(lambda y:ord(y)-97,'bfjn cgkj bfjk fgjk cgfj bfgk befg'.split()[x])],b(7)))
 for t in p[2]:o[t%4][t/4]=p[0]
 return o,p[1]
m,b,v,z,L=map,range,filter,255,len
def q(a,o,x,y,n=1):
 g=cg(a)
 for c in b(16):
  tx,ty,p=c%4+x,c/4+y,o[c%4][c/4]
  if p:
   if tx<0 or tx>9 or ty>19 or (a[tx][ty] and n):return 3
   g[tx][ty]=p
 return g
def cl(r,l,t=lambda g:m(lambda x:m(lambda y:g[y][x],b(L(g))),b(L(g[0])))):
 r=v(lambda x:0 in x,t(r))
 return t([[0]*10]*(20-L(r))+r),l+20-L(r)
def dm(o,a,ox,oy,dx,dy):
 ox=ox if q(a,o,ox+dx,oy)==3 else ox+dx
 return(a,o,ox,oy+dy)if(dy==0 or q(a,o,ox,oy+dy)!=3)else(q(a,o,ox,oy),3,ox,0)
def mn(e,s,a,o,ox,oy,fc,ck,cn,l,dr,j,t,f):
 while not('12-Quit'in e or"y': 27,"in e):
  fc,d,y,e=fc+1+5*key.get_pressed()[274]+l/15,((l/10)%7),'0201120 0020110 2001022 0222101 1120011 0000202'.split(),str(v(lambda x:x.type!=3,event.get()))
  c=[[0]*3,[z]*3]+[m(lambda x:127*int(y[:3][x][d]),b(3)),m(lambda x:127*int(y[3:][x][d]),b(3))]
  dx=-1 if("y': 276"in e)else 1 if("y': 275"in e)else 0
  ox,oy=(3,0)if o==3 else (ox,oy)
  o,cn = (o,cn) if o!=3 else mo(k(4,4))
  r=3 if("y': 32,"in e)else 1 if("y': 273"in e)else 0
  o=ro(o,cn,r)
  o=o if q(a,o,ox,oy)!=3 else ro(o,cn,4-r)
  a,o,ox,oy=dm(o,a,ox,oy,dx,(fc>30)+0)
  fc=fc*(fc<31)
  ra=a if o==3 else q(a,o,ox,oy,0)
  if ra==3:return
  a,l=(a,l)if o!=3 else cl(a,l)
  s.fill(c[0])
  for y in b(200):dr(s,c[ra[y%10][y/10]],Rect((y%10)*15+j,t+(y/10)*15,15,15))
  dr(s,c[1],Rect(j,t,151,301),1),s.blit(f.render("Lines: "+str(l),0,c[1]),(j,t/2)),display.flip(),ck.tick(60)
mn(init(),display.set_mode((640,480)),k(10,20),3,0,0,0,time.Clock(),1,0,draw.rect,245,85,font.Font(None,24))
